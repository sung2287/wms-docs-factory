# Book Writing System Concept v0.1

## 1. 현재 문제 인식

도서 설계 및 집필 과정에서 반복적으로 발생하는 문제:

- 설계 대화 중 핵심 아이디어가 휘발됨
- PRD(또는 설계 문서)는 결과만 남고 근거는 사라짐
- 목차/설계도 변경이 체계적으로 관리되지 않음
- 본문 수정이 구조 변화와 분리되지 않아 혼란 발생
- 세션이 바뀌면 방향성이 흔들림

문제의 본질은 "메모리 부족"이 아니라:

> 설계 근거와 결정의 통제된 반영 구조 부재

---

## 2. 시스템 철학

### 2.1 역할 분리

- AI는 제안자
- 사용자는 승인자
- SSOT는 사용자 승인 없이 변경되지 않는다
- **SSOT 분리**: 본문(Result)의 SSOT는 WMS이며, 설계 결정 및 근거(Meaning)의 SSOT는 LangGraph이다.

### 2.2 자동 반영 금지 원칙

- 대화 중 자동으로 설계/목차/본문을 변경하지 않는다
- 변경은 반드시 명시적 트리거 후 제안 형태로만 수행한다

### 2.3 HOLD는 차단이 아니다 (LOCK)

- Runtime은 위험 신호를 감지해도 집필 흐름을 강제로 차단하지 않는다.
- HOLD는 "표시"에 해당하며, 실제 제어는 승인 프로세스에서 수행한다.

---

## 3. 데이터 구조 개념

WMS(저작 관리 시스템)는 다음 3요소를 SSOT로 가진다:

1. 목차(Node 구조)
2. 설계도(해당 본문이 나오게 된 주요 근거/의도)
3. 본문(Text)

이 세 가지는 서로 다른 역할을 가진다.

- 목차 = 구조
- 설계도 = 방향/근거
- 본문 = 결과물

---

## 4. 대화와 반영 구조

### 4.1 평소 대화

- 자유로운 설계 토론
- 자동 반영 없음
- 메모리는 압축 요약(맥락 유지용)

---

### 4.2 설계 반영 트리거

사용자가 다음과 같은 명시적 트리거를 실행할 때만 반영 프로세스 시작:

> "설계 반영 제안 생성"

이 시점에서 시스템은:

- 현재 대화를 전체적으로 정리
- 목차 변경 제안 생성
- 설계도 변경 제안 생성
- 변경 범위를 명확히 표시

자동 반영은 하지 않는다.

---

## 5. 승인 기반 반영 흐름

### 5.1 목차 / 설계도 변경

- 변경 제안 생성
- 기존 버전과 비교(diff)
- 전체 승인 또는 거부
- 부분 승인 기능은 제공하지 않음
- 승인 후 SSOT 반영

사용자는 필요 시 수동 수정 가능

---

### 5.2 본문 변경

본문은 절대 자동 변경하지 않는다.

흐름:

1. "AI 문서 제안" 버튼 클릭
2. 설계도/목차를 근거로 수정 제안 생성
3. 좌/우 비교
4. 승인 시 반영
5. 마음에 들지 않는 부분은 사용자가 직접 수정

본문은 항상 "제안 기반"으로만 변경된다.

---

## 6. 설계도 우선 원칙

본문 수정은 설계도 변경을 따른다.

우선순위:

1. 설계도 수정 제안
2. 승인
3. 본문 수정 제안
4. 승인

설계도는 방향의 SSOT이며,
본문은 설계도의 구현 결과다.

---

## 7. 세션 기반 집필 흐름 (개념)

1. WMS에서 특정 섹션 집필 요청
2. 현재 목차 + 설계도 읽기
3. 세션 집필 수행
4. 본문 수정 제안 생성
5. 승인 후 반영

설계 변경은 별도 트리거로만 수행한다.

---

## 8. 안정성 원칙

- 자동 변경 없음
- 제안 → 비교 → 승인 구조 유지
- SSOT는 승인 전 변경 불가
- 부분 승인 기능은 구현하지 않음
- 수동 수정 항상 허용

---

## 9. 핵심 요약

이 시스템의 목적은 AI 자동화가 아니라:

> 설계의 방향성을 잃지 않으면서도 통제 가능한 집필 워크플로우를 만드는 것

핵심 원칙:

- 대화는 자유롭게
- 반영은 트리거 기반
- 변경은 제안 형태
- 승인 후 SSOT 반영
- 본문은 항상 사용자 통제 하에 유지

---

END

